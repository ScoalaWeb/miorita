(window.webpackJsonp=window.webpackJsonp||[]).push([[6,20],{371:function(e,t,o){"use strict";var r=o(1),n=o(71).findIndex,c=o(139),l="findIndex",d=!0;l in[]&&Array(1).findIndex((function(){d=!1})),r({target:"Array",proto:!0,forced:d},{findIndex:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),c(l)},375:function(e,t,o){var content=o(409);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(103).default)("84ebc3cc",content,!0,{sourceMap:!1})},398:function(e,t,o){"use strict";o.r(t);var r=o(0),n=Object(r.defineComponent)({__name:"LessonContainer",props:{section:null},setup:function(e){return{__sfc:!0}}}),c=(o(408),o(69)),component=Object(c.a)(n,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"lesson_container"},[t("h2",{staticClass:"section"},[e._v(e._s(e.section))]),e._v(" "),e._t("default")],2)}),[],!1,null,null,null);t.default=component.exports},408:function(e,t,o){"use strict";o(375)},409:function(e,t,o){var r=o(102)(!1);r.push([e.i,".lesson_container{display:flex;flex-direction:column;flex-grow:1;gap:1rem;overflow-y:auto;overflow-x:hidden;border-radius:1rem;padding:1.56rem;background-color:var(--color-gray-800);font-family:var(--font-editor)}.section{font-weight:900;font-size:1.56rem}",""]),e.exports=r},422:function(e,t,o){var content=o(483);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(103).default)("bf281b76",content,!0,{sourceMap:!1})},423:function(e,t,o){var content=o(485);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(103).default)("26c5d60e",content,!0,{sourceMap:!1})},461:function(e,t,o){e.exports=o.p+"img/character.3d57035.svg"},467:function(e,t,o){e.exports=o.p+"img/fenceY.c2f8e60.svg"},468:function(e,t,o){e.exports=o.p+"img/fenceX.d9cc3dd.svg"},482:function(e,t,o){"use strict";o(422)},483:function(e,t,o){var r=o(102)(!1);r.push([e.i,".options_box[data-v-b986d9f4]{display:grid;grid-template-columns:repeat(2, 1fr);grid-template-rows:repeat(2, 1fr);row-gap:.68rem;justify-items:center}.options_box .orientation[data-v-b986d9f4]{display:flex;flex-direction:column;gap:.25rem}.options_box .orientation .cardinal_buttons[data-v-b986d9f4]{display:flex;gap:1.25rem}.object_checkbox[data-v-b986d9f4]{width:7.75rem;appearance:none}.object_checkbox[data-v-b986d9f4]::before{font-family:var(--font-editor);font-size:1.37rem;font-weight:600;color:var(--color-white);content:attr(data-type);text-transform:capitalize}.object_checkbox[data-v-b986d9f4]:checked::before{color:var(--color-green-lighter)}.object_checkbox.cardinal[data-v-b986d9f4]{width:1rem}.object_checkbox.cardinal[data-v-b986d9f4]::before{font-size:1rem}",""]),e.exports=r},484:function(e,t,o){"use strict";o(423)},485:function(e,t,o){var r=o(102)(!1);r.push([e.i,".size{display:flex;align-items:center;gap:.75rem;font-family:var(--font-editor);font-size:1.2rem;font-weight:600}.size input{width:3rem;font-size:1.2rem;font-family:var(--font-editor);font-weight:600}",""]),e.exports=r},497:function(e,t,o){var content=o(716);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(103).default)("5bd7a9db",content,!0,{sourceMap:!1})},516:function(e,t,o){"use strict";o.r(t);o(83),o(15);var r=o(0),n=o(365),c=Object(r.defineComponent)({__name:"LessonOptions",props:{selectedCell:null},setup:function(e){var t=e,o=Object(n.a)(),c=Object(r.computed)((function(){return o.sheepfold.start.position.x===t.selectedCell.col&&o.sheepfold.start.position.y===t.selectedCell.row}));return{__sfc:!0,props:t,store:o,orientations:["N","S","E","W"],objects:["hatchet","grass","vitoria"],hasObject:function(object){return void 0!==o.sheepfold.objects.find((function(e){return e.type===object.toLowerCase()&&e.position.x===t.selectedCell.col&&e.position.y===t.selectedCell.row}))},hasSheep:c,hasOrientation:function(e){return c.value&&o.sheepfold.start.orientation===e}}}}),l=(o(482),o(69)),component=Object(l.a)(c,(function(){var e=this,t=e._self._c,o=e._self._setupProxy;return t("div",{staticClass:"options_box"},[t("div",{staticClass:"orientation"},[t("input",{staticClass:"object_checkbox",attrs:{type:"checkbox","data-type":"Miorița",disabled:""},domProps:{checked:o.hasSheep}}),e._v(" "),t("span",{staticClass:"cardinal_buttons"},e._l(o.orientations,(function(r){return t("input",{key:r,staticClass:"object_checkbox cardinal",attrs:{type:"radio",name:"orientation","data-type":r},domProps:{checked:o.hasOrientation(r)},on:{change:function(t){return e.$emit("orientationChanged",r)}}})})),0)]),e._v(" "),e._l(o.objects,(function(object){return t("input",{key:object,staticClass:"object_checkbox",attrs:{type:"checkbox","data-type":object},domProps:{checked:o.hasObject(object)},on:{change:function(t){return e.$emit("objectChanged",object)}}})}))],2)}),[],!1,null,"b986d9f4",null);t.default=component.exports},517:function(e,t,o){"use strict";o.r(t);var r=o(0),n=o(365),c=Object(r.defineComponent)({__name:"LessonResize",props:{axis:null,value:null},setup:function(e){var t=e,o=Object(n.a)(),c=Object(r.ref)(t.value);return{__sfc:!0,props:t,store:o,currentValue:c,changeSize:function(e){var r=parseInt(e.target.value,10);c.value=r,o.patchLesson(["size",t.axis],r)}}}}),l=(o(484),o(69)),component=Object(l.a)(c,(function(){var e=this,t=e._self._c,o=e._self._setupProxy;return t("label",{staticClass:"size"},[e._v("\n    "+e._s(e.axis)+":\n    "),t("input",{staticClass:"entry",attrs:{type:"number",name:e.axis},domProps:{value:o.currentValue},on:{input:o.changeSize}})])}),[],!1,null,null,null);t.default=component.exports},711:function(e,t,o){var map={"./grass.svg":712,"./hatchet.svg":713,"./vitoria.svg":714};function r(e){var t=n(e);return o(t)}function n(e){if(!o.o(map,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return map[e]}r.keys=function(){return Object.keys(map)},r.resolve=n,e.exports=r,r.id=711},712:function(e,t,o){e.exports=o.p+"img/grass.a82c12a.svg"},713:function(e,t,o){e.exports=o.p+"img/hatchet.6e2c65d.svg"},714:function(e,t,o){e.exports=o.p+"img/vitoria.d9965bd.svg"},715:function(e,t,o){"use strict";o(497)},716:function(e,t,o){var r=o(102),n=o(364),c=o(467),l=o(468),d=r(!1),f=n(c),h=n(l);d.push([e.i,'.world{display:flex;flex-direction:column;background-color:var(--sheepfold-background-color);user-select:none}.size_box{display:grid;margin-inline-start:2rem}.table_wrapper{flex-grow:1;width:100%;display:grid;align-items:start;justify-items:center}.sheepfold{--fence-width: calc(var(--cell-width) / 9);display:grid;grid-template-rows:1fr repeat(calc(var(--row-count) - 1), var(--fence-width) 1fr);grid-template-columns:1fr repeat(calc(var(--col-count) - 1), var(--fence-width) 1fr);max-width:100%;gap:calc(var(--cell-width)/15)}.cell{position:relative;align-self:center;justify-self:center;min-height:var(--cell-width);min-width:var(--cell-width);padding-bottom:var(--cell-width);aspect-ratio:1/1}.cell::before{content:"";font-family:Mioritza-Icons,fantasy;position:absolute;top:0;bottom:0;left:0;right:0;display:grid;justify-content:center;align-items:center;font-weight:bold;font-size:calc(var(--cell-width)/6);color:var(--element-accent-color)}.cell.selected{border:1px solid var(--color-green-lighter)}.wall{background-position:center;background-size:contain;background-repeat:no-repeat;cursor:pointer}.wall.vertical{background-image:url('+f+")}.wall.horizontal{background-image:url("+h+")}.wall.unselected{opacity:.2}.object{width:100%;height:100%;position:absolute;z-index:2;margin-left:auto;margin-right:auto}.object.grass{transform:scale(0.65) translateY(40%)}.object.hatchet{transform:scale(0.95) translateY(8%)}.object.vitoria{transform:scale(0.95)}.character{max-width:100%;max-height:100%;position:absolute;z-index:2}.toolbar{display:flex;justify-content:space-between;border-bottom:1px solid var(--color-gray-500)}.buttons{display:flex}.button{padding:.38rem 1.68rem;background-color:var(--secondary-button);margin:.68rem .81rem;font-size:1.25rem;border:0;color:var(--color-white);cursor:pointer;border-radius:1.25rem;white-space:nowrap}.button:hover{background:var(--secondary-button-hover)}.facing_up .character{transform:rotate(-90deg)}.facing_down .character{transform:rotate(90deg)}.facing_left .character{transform:scaleX(-1)}.console{display:flex;flex-direction:column;overflow:auto;gap:.5em;background:var(--background-color);color:var(--text-color);padding:1rem;height:9.5rem}.error{color:var(--color-red)}",""]),e.exports=d},736:function(e,t,o){"use strict";o.r(t);o(30),o(38),o(15),o(48),o(34),o(49);var r=o(21);o(32),o(85);function n(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,o)}return t}function c(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?n(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):n(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var l=o(58),d=(o(371),o(251),o(0)),f=o(398),h=o(516),v=o(517),m=o(365),y={__name:"LessonEditorSheepfold",setup:function(e){var t=Object(m.a)(),o=Object(d.computed)((function(){return t.sheepfold})),r=Object(d.ref)(null),n=Object(d.ref)(null),c=function(e,r,n){var c=o.value.walls[e],l=c.findIndex((function(e){return e.x===r&&e.y===n}));l<0?c.push({x:r,y:n}):c.splice(l,1),t.patchLesson(["walls",e],c)},y=Object(d.ref)("10%"),x=Object(d.computed)((function(){return{"--row-count":o.value.size.y,"--col-count":o.value.size.x,"--cell-width":y.value}})),w=function(){var e=r.value;if(e){var t=Math.floor(.85*Math.min(e.clientWidth/o.value.size.x,e.clientHeight/o.value.size.y));y.value="".concat(t,"px")}},_=function(e,col){return o.value.walls.x&&o.value.walls.x.some((function(t){return e===t.y&&col===t.x}))},j=function(e,col){return o.value.walls.y&&o.value.walls.y.some((function(t){return e===t.y&&col===t.x}))},O=function(e,col){var t=o.value.start.position,r=t.x;return e===t.y&&col===r},C=function(e,col){return o.value.objects.filter((function(t){var o=t.position,r=o.x,n=o.y;return e===n&&col===r}))},k=Object(d.computed)((function(){for(var e=o.value.size,t=[],r=0;r<e.y;r+=1)for(var col=0;col<e.x;col+=1){var n=2*r+1,c=2*col+1,l=O(r,col),d=["cell"];if(l)switch(o.value.start.orientation){case"N":d.push("facing_up");break;case"S":d.push("facing_down");break;case"W":d.push("facing_left");break;case"E":d.push("facing_right")}t.push({row:r,col:col,gridRow:n,gridColumn:c,withCharacter:l,css:d,objects:C(r,col),type:"cell"}),t.push({row:r,col:col,gridRow:n+1,gridColumn:c,wall:j(r,col),css:["wall","horizontal",j(r,col)?"selected":"unselected"],type:"horizontalWall"}),t.push({row:r,col:col,gridRow:n,gridColumn:c+1,wall:_(r,col),css:["wall","vertical",_(r,col)?"selected":"unselected"],type:"verticalWall"})}return t}));return Object(d.onMounted)((function(){w()})),{__sfc:!0,store:t,sheepfold:o,tableWrapper:r,selectedCell:n,toggleWall:c,handleClick:function(e){var t=e.col,o=e.row;switch(e.type){case"cell":n.value=e;break;case"horizontalWall":c("y",t,o);break;case"verticalWall":c("x",t,o)}},onOrientationChanged:function(e){t.patchLesson(["start"],{position:{x:n.value.col,y:n.value.row},orientation:e})},onObjectChanged:function(object){var e=n.value,r=e.row,col=e.col,c=Object(l.a)(o.value.objects),d=c.findIndex((function(e){var t=e.position;return t.x===col&&t.y===r}));d>=0?c.splice(d,1):c.push({position:{x:col,y:r},type:object,fixed:!0}),t.patchLesson(["objects"],c)},cellWidth:y,cellWidthStyle:x,resizeCell:w,hasWallRight:_,hasWallBottom:j,isCharacterAt:O,objectsAt:C,cells:k,LessonContainer:f.default,LessonOptions:h.default,LessonResize:v.default}}},x=(o(715),o(69)),component=Object(x.a)(y,(function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t(n.LessonContainer,{attrs:{section:"Sheepfold"}},[t("div",{staticClass:"size_box"},e._l(Object.keys(n.sheepfold.size),(function(e){return t(n.LessonResize,{key:e,attrs:{axis:e,value:n.sheepfold.size[e]}})})),1),e._v(" "),t("div",{ref:"tableWrapper",staticClass:"table_wrapper"},[t("div",{staticClass:"sheepfold",style:c({},n.cellWidthStyle)},e._l(n.cells,(function(c){var l,d,f;return t("div",{key:c.id,class:(f={},Object(r.a)(f,c.css.join(" "),!0),Object(r.a)(f,"selected",c.row===(null===(l=n.selectedCell)||void 0===l?void 0:l.row)&&c.col===(null===(d=n.selectedCell)||void 0===d?void 0:d.col)),f),style:{gridRowStart:c.gridRow,gridColumnStart:c.gridColumn},on:{click:function(e){return n.handleClick(c)}}},[e._l(c.objects,(function(e,r){return t("div",{key:r+e.type},[t("img",{class:["object",e.type],attrs:{src:o(711)("./".concat(e.type,".svg")),alt:e.type}})])})),e._v(" "),c.withCharacter?t("img",{staticClass:"character",attrs:{src:o(461),alt:"Miorița",draggable:"false"}}):e._e()],2)})),0)]),e._v(" "),n.selectedCell?t(n.LessonOptions,e._b({on:{orientationChanged:n.onOrientationChanged,objectChanged:n.onObjectChanged}},"LessonOptions",{selectedCell:n.selectedCell},!1)):e._e()],1)}),[],!1,null,null,null);t.default=component.exports}}]);